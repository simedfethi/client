<!-- Stacked layout -->
<div class="card" *ngIf="customer">
  <div class="card-header">
    <h5 class="mb-0">Flux d'activit√©</h5>
  </div>

  <div class="card-body">
    <div class="row">
      <ul class="nav nav-pills mb-3"  role="tablist">

        <li class="nav-item" role="presentation">
          <button class="nav-link active"   data-bs-toggle="pill" data-bs-target="#commentaire"
                  type="button" role="tab" aria-controls="pills-profile" aria-selected="true" (click)="setStatusComment()">Commentaire</button>
        </li>
        <li class="nav-item" role="rdv">
          <button class="nav-link"   data-bs-toggle="pill" data-bs-target="#rdv"
                  type="button" role="tab" aria-controls="pills-profile" aria-selected="false" (click)="setStatustache()">Tache</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#sms"
                  type="button" role="tab" aria-controls="pills-home" aria-selected="false" (click)="setStatusSms()">SMS</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" (click)="openmodalEmail()"
                  type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Email</button>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="sms" role="tabpanel" aria-labelledby="pills-home-tab">
          <textarea #whoAreYou class="form-control form-control-content mb-3" [(ngModel)]="sms" placeholder="tapez votre sms ..." [autosize]="true"></textarea>
          <div class="d-flex align-items-center">

            <button type="button" class="btn btn-primary ms-auto"  (click)="insertCustomerActivity()" >
              Envoyer
              <i class="ph-paper-plane-tilt ms-2"></i>
            </button>

          </div>
        </div>
        <div class="tab-pane fade" id="commentaire" role="tabpanel" aria-labelledby="pills-profile-tab">

          <div class="tab-pane fade show active"  role="tabpanel" aria-labelledby="pills-home-tab">
            <textarea class="form-control form-control-content mb-3" [(ngModel)]="comment"  placeholder="type your comment ..." [autosize]="true"></textarea>
            <div class="d-flex align-items-center">


              <button type="button" class="btn btn-primary ms-auto"  (click)="insertCustomerActivity()" >
                Commentaire
                <i class="ph-paper-plane-tilt ms-2"></i>
              </button>
            </div>
          </div>


        </div>
        <div class="tab-pane fade" id="rdv" role="tabpanel" aria-labelledby="pills-profile-tab">

          <div class="tab-pane fade show active"  role="tabpanel" aria-labelledby="pills-home-tab">
            <textarea class="form-control form-control-content mb-3" [(ngModel)]="tachecontent"  placeholder="tache ..." [autosize]="true"></textarea>
            <input
              [(ngModel)]="heureActiviteISO"
              data-cy="heureActivite"
              type="datetime-local"

              class="form-control"
              name="heureActivite"
              placeholder="YYYY-MM-DD HH:mm"
            />
            <div class="d-flex align-items-center">


              <button type="button" class="btn btn-primary ms-auto"  (click)="insertCustomerActivity()" >
                Tache
                <i class="ph-paper-plane-tilt ms-2"></i>
              </button>
            </div>
          </div>


        </div>
        <div class="tab-pane fade" id="email" role="tabpanel" aria-labelledby="pills-contact-tab">
          <div class="form-control form-control-content mb-3" contenteditable data-placeholder="Type message here and hit enter..."></div>
          <div class="d-flex align-items-center">
            <div>
              <a href="#" class="btn btn-light btn-icon border-transparent rounded-pill btn-sm me-1" data-bs-popup="tooltip" title="Formatting">
                <i class="ph-text-aa"></i>
              </a>
              <a href="#" class="btn btn-light btn-icon border-transparent rounded-pill btn-sm me-1" data-bs-popup="tooltip" title="Emoji">
                <i class="ph-smiley"></i>
              </a>
              <a href="#" class="btn btn-light btn-icon border-transparent rounded-pill btn-sm me-1" data-bs-popup="tooltip" title="Send file">
                <i class="ph-paperclip"></i>
              </a>
            </div>

            <button type="button" class="btn btn-primary ms-auto">
              Enregistrer
              <i class="ph-paper-plane-tilt ms-2"></i>
            </button>
          </div>
        </div>
      </div>

    </div>


    <div class="media-chat-scrollable m-3">
      <ng-container *ngFor="let activite of activiteCollection">
        <div>
          <div class="d-flex m-1">
            <div class="m-1">
              <p> {{activite.employee?.employeeName}}</p>
            </div>
           <div class="m-1">
             <p> {{activite.heureActivite}}</p>
           </div>
            <div class="m-1">
              <p> {{activite.typeactivite}}</p>
            </div>
              <div class="m-1">
                <p> {{activite.note}}</p>
              </div>

          </div>

        </div>

      </ng-container>
      <button class="btn btn-flat-primary" (click)="logdata()" *ngIf="!(page*itemsPerPage>totalItems)">Afficher Plus</button>
    </div>



  </div>
</div>
<!-- /stacked layout -->
